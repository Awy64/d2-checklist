<mat-dialog-content>
    <h3>{{seal.data.name}}</h3>
    <p>{{seal.complete}} / {{seal.total}} members</p>
    <div class="simple-caption">{{seal.data.desc}}</div>
    <mat-tab-group>
        <mat-tab label="Incomplete">
            <div class="tab-body">
                <ng-container *ngTemplateOutlet="playerTable; context: {seal: seal, playerSeals: seal.notDone}">
                </ng-container>
            </div>
        </mat-tab>
        <mat-tab label="Complete">
            <div class="tab-body">
                <ng-container *ngTemplateOutlet="playerTable; context: {seal: seal, playerSeals: seal.done}">
                </ng-container>
            </div>
        </mat-tab>
    </mat-tab-group>
</mat-dialog-content>

<ng-template #playerTable let-seal="seal" let-playerSeals='playerSeals'>
    <div class="simple-caption" *ngIf="playerSeals.length==0">None</div>
    <table class="checklist-table" *ngIf="playerSeals.length>0">
        <thead>
            <tr>
                <th>
                    <a href="javascript:void(0)" (click)="sortData('name')"> Player
                        <ng-container *ngIf="sort.name=='name'">
                            <i *ngIf="sort.ascending" class="fas fa-sort-up"></i>
                            <i *ngIf="!sort.ascending" class="fas fa-sort-down"></i>
                        </ng-container>
                    </a>
                </th>
                <th>
                    <a href="javascript:void(0)" (click)="sortData('pct')"> Progress
                        <ng-container *ngIf="sort.name=='pct'">
                            <i *ngIf="sort.ascending" class="fas fa-sort-up"></i>
                            <i *ngIf="!sort.ascending" class="fas fa-sort-down"></i>
                        </ng-container>
                    </a>
                </th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let s of playerSeals">
                <td *ngIf="s.member as member">
                    <a *ngIf="member.destinyUserInfo.membershipType!=4"
                        [routerLink]="['/',member.destinyUserInfo.membershipType, member.destinyUserInfo.displayName]">
                        {{member.destinyUserInfo.displayName}}
                    </a>
                    <a *ngIf="member.destinyUserInfo.membershipType==4" href="javascript:void(0)"
                        (click)="state.navigateBnetMember(member)">
                        {{member.destinyUserInfo.displayName}}
                    </a>
                    <span class="simple-caption" *ngIf="member.player.title.trim().length>0">
                        {{member.player.title}}
                    </span>
                </td>
                <td>
                    {{s.seal.percent|number : '0.0-0'}}%
                </td>
            </tr>
        </tbody>
    </table>
</ng-template>