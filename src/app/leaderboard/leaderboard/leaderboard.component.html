<div class="childComponent">
  <div class="childVert">
    <div class="main">
      <md-spinner class="loading" class="center-spinner" *ngIf="loading===true"></md-spinner>

      <h1>Leviathan Raid Leaderboard</h1>

      <div class="note">Huge thanks to <a href="https://trials.report/"
        rel="noopener" target="_blank">Destiny Trials Report</a> for the underlying data! 
        <a href="https://www.reddit.com/r/destinychecklistnet/comments/71qq46/raid_leaderboard_guide/" rel="noopener" target="_blank">More info.</a></div>


      <div>
        <md-form-field class="searchField">
          <input mdInput #filter placeholder="Filter users">
        </md-form-field>
      </div>

      <div class="table-container">
        <md-table class="centerMe" #table [dataSource]="dataSource" mdSort>
          <ng-container cdkColumnDef="rank">
            <md-header-cell class="rankCol" *cdkHeaderCellDef md-sort-header>Rank</md-header-cell>
            <md-cell class="rankCol" *cdkCellDef="let row">
              <a md-button  href="javascript:void(0)" (click)="pgcr(row.pgcr)">
                      {{row.rank}} 
                    </a>
            </md-cell>
          </ng-container>
          <ng-container cdkColumnDef="end">
            <md-header-cell *cdkHeaderCellDef class="hidden-md-down" md-sort-header>Complete</md-header-cell>
            <md-cell *cdkCellDef="let row" class="hidden-md-down">
              {{row.end|date:'short'}}
            </md-cell>
          </ng-container>
          <ng-container cdkColumnDef="fireteam">
            <md-header-cell *cdkHeaderCellDef md-sort-header>Fireteam</md-header-cell>
            <md-cell *cdkCellDef="let row">
              <span class="name" *ngFor="let p of row.fireteam">
                  <a href="javascript:void(0)" (click)="loadPlayer(p.membershipType, p.displayName)" >{{p.displayName}}</a>
                  <a class="accent-text" *ngIf="p.twitchUrl!=null" rel="noopener" [href]="p.twitchUrl" target="_blank">
                    <i class="fa fa-twitch"></i>
                  </a>
                </span>
            </md-cell>
          </ng-container>
          <ng-container cdkColumnDef="durationMs">
            <md-header-cell *cdkHeaderCellDef class="hidden-md-down" md-sort-header>Duration</md-header-cell>
            <md-cell *cdkCellDef="let row" class="hidden-md-down">
              {{ row.durationMs | amDuration:'milliseconds' }}
            </md-cell>
          </ng-container>
          <md-header-row *cdkHeaderRowDef="displayedColumns"></md-header-row>
          <md-row *cdkRowDef="let row; columns: displayedColumns;"></md-row>
        </md-table>
        <md-paginator #paginator [length]="database.data.length" [pageIndex]="0" [pageSize]="10" [pageSizeOptions]="[5, 10, 25, 100]">
        </md-paginator>
      </div>
    </div>
    <div *ngIf="disableads===false" class="adRight">
      <small class="adText">Advertisement</small>
      <ng-adsense adFormat="vertical"></ng-adsense>
    </div>

  </div>
  <div *ngIf="disableads===false" class="adBottom">
    <small class="adText">Advertisement</small>
    <ng-adsense adSlot="7909243132" display="inline-block" width="336" height="280"></ng-adsense>
  </div>
</div>