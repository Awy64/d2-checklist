<ng-container *ngIf="game$|async as g">
    <div class="flex-row justify-center">
        <div class="pgcrImage" [style.background-image]="'url(//www.bungie.net' + g.pgcrImage + ')' ">
            <h3 class="pgcrImageText">{{g.mode}}: {{g.activityName}} 
                <span class="pad-left" *ngIf="g.pveSuccess!=null">
                    <fa-icon [icon]="iconService.fasTimes" *ngIf="g.pveSuccess==false" class="warn-text"> </fa-icon>
                    <fa-icon [icon]="iconService.fasCheck" *ngIf="g.pveSuccess==true" class="accent-text"></fa-icon>
                </span>
            </h3>            
            <div class="flex-row">
                <p class="pgcrImageText">{{g.period|date:'shortDate'}} {{g.period|date:'shortTime'}}</p>
                <p class="pgcrImageText">{{g.activityDurationSecondsText}}</p>
                
            </div>
            <div class="pgcrImageText">{{g.activityLocation}}</div>
            <div class="pgcr-spacer"></div>            
            <p *ngIf="g.pveTeamScore" class="pgcrImageText">{{g.pveTotalTeamScore|number}} - {{g.timeLostPoints|number}} =  <b>{{g.pveTeamScore|number}} pts</b></p>
        </div>       
        <table class="tidy-auto-table">
            <thead>
                <tr>
                    <th></th>
                    <th></th>
                    <th>Kills</th>
                    <th>Assists</th>
                    <th>KD</th>
                    <th>Fireteam Id</th>
                    <th>Score</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let e of g.entries" class="pgcr-hover-row" (click)="show(e)">
                    <ng-container *ngIf="e.fireTeamStatus=='first'">
                        <td [attr.rowspan]="e.fireTeamSize" class="fireteam-group-cell">
                            <div class="accent-bg-text fireteam-group">&nbsp;</div>
                        </td>
                    </ng-container>
                    <ng-container *ngIf="e.fireTeamStatus==null">
                        <td> </td>
                    </ng-container>                    
                    <td>
                        <ng-container *ngIf="e?.info.player as player">
                            <div class="flex-row">
                            <div *ngIf="player.destinyUserInfo?.iconPath as icon" class="icon size-40" [style.background-image]="'url(//www.bungie.net' + icon + ')'"></div>
                            <div>
                                <div>{{player.destinyUserInfo.displayName}}</div>
                                <div class="simple-caption-darker-no-margin">{{player.characterClass}} {{player.lightLevel}}</div>
                            </div>
                            </div>
                        </ng-container>
                        
                    </td>
                    <td>{{e.values.kills}}</td>
                    <td>{{e.values.assists}}</td>
                    <td>{{e.values.kd|number:'1.0-2'}}</td>
                    <td>{{e.values.fireteamId}}</td>
                    <td>{{e.info.score}}</td>
                </tr>
            </tbody>
        </table>
    </div>
    

    <div style="max-width: 300px; overflow: scroll;">
        <pre style="text-align: left">{{g|json}}</pre>
    </div>

</ng-container>